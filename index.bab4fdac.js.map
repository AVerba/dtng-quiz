{"mappings":"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","sources":["src/index.js"],"sourcesContent":["let ProgressWidth = 0,\n  num = 0;\nlet selected = document.querySelector('.form-control');\nconst slider = document.querySelector('.slider'),\n  slider__items = slider.querySelectorAll('.slider__item'),\n  buttons = document.querySelectorAll('.btn__slider'),\n  progressElement = document.querySelector('.page__progress__filled'),\n  maxItems = slider__items.length,\n  nextBtn=document.getElementById('nxtBtn'),\n  ProgressStep = 100 / (maxItems),\n  error = document.querySelector('[data-error]'),\n  userAge = document.getElementById('user-age');\n\n\nconst transformNum = () => {\n  let backElem, frontElem;\n  backElem = slider__items[num - 1];\n  frontElem = slider__items[num];\n  backElem.style.transform = `translateZ(0px) translate(${-1 * num * 100}%, 0)`;\n  frontElem.style.transform = `translateZ(0px) translate(${-1 * num * 100}%, 0)`;\n\n};\n\n\nconst addActive = (direction) => {\n  let elem;\n  if (num + 1 === maxItems) {\n    return;\n  }\n  num++;\n  transformNum();\n  elem = slider__items[num - 1];\n  elem.classList.remove('active');\n\n  elem = slider__items[num];\n  if (num + 1 === maxItems) {\n    showLoading();\n    ProgressWidth = 100;\n  }\n  elem.classList.add('active');\n};\nnextBtn.addEventListener(\"click\",()=>{\n  console.log(selected)\n  loadOptions(selected)\n} )\n\nconst setListeners = () => {\n  buttons.forEach(function(item) {\n    item.addEventListener('click', () => {\n      if (item.id === 'nextBtn') {\n        console.log(selected)\n        selected.addEventListener('click', () => loadOptions(event));\n\n      }\n\n      // if (item.id === 'userAgeBtn') {\n      //   if (userAge.value < 18) {\n      //     error.classList.remove('_is-hidden');\n      //     setTimeout(() => {\n      //       error.classList.add('_is-hidden');\n      //       window.location.href = `${getUrlVars()}`;\n      //     }, 3000);\n      //   } else {\n      //     ProgressWidth += ProgressStep;\n      //     addActive('plus');\n      //     progressElement.style.width = `${ProgressWidth}%`;\n      //\n      //   }\n      // } else {\n      //\n      //   ProgressWidth += ProgressStep;\n      //   addActive('plus');\n      //   progressElement.style.width = `${ProgressWidth}%`;\n      // }\n      ProgressWidth += ProgressStep;\n      addActive('plus');\n      progressElement.style.width = `${ProgressWidth}%`;\n    });\n  });\n};\n\nconst getRandom = (min, max) => {\n  return Math.random() * (max - min) + min;\n};\nconst showSpinner = () => {\n  document.querySelector('.analyzer').style.display = 'none';\n  document.querySelector('.loading__spinner').style.display = 'flex';\n};\nconst showReview = () => {\n  document.querySelector('.loading__spinner').style.display = 'none';\n  document.querySelector('.review').style.display = 'flex';\n\n};\n\nfunction showLoading() {\n  const randomDelay = getRandom(2, 6);\n  const bar = document.querySelector('.loading__bar');\n  const loadingTextElement = document.querySelector(' .loading__analyzing span');\n  let loadingText = 0;\n  const addToLoadText = 100 / (randomDelay * 2);\n\n  const interval = setInterval(function() {\n    loadingText = Math.floor(loadingText + addToLoadText);\n    if (loadingText > 100) {\n      clearInterval(interval);\n      loadingText = 100;\n    }\n    bar.style.width = `${loadingText}%`;\n    loadingTextElement.innerHTML = `${loadingText}`;\n\n    if (loadingText === 100) {\n      setTimeout(showSpinner, 1000);\n    }\n    if (loadingText === 100) {\n      setTimeout(showReview, 3000);\n    }\n  }, 500);\n}\n\nfunction getUrlVars() {\n  let vars = {}, hash;\n  const hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\n  for (let i = 0; i < hashes.length; i++) {\n    hash = hashes[i].split('=');\n    if (hash[1]) {\n      vars[hash[0]] = hash[1];\n    }\n  }\n  return hashes;\n}\nfunction shortString(selector) {\n  const elements = document.querySelectorAll(selector);\n  const tail = '...';\n  if (elements && elements.length) {\n    for (const element of elements) {\n      let text = element.innerText;\n      if (element.hasAttribute('data-limit')) {\n        if (text.length > element.dataset.limit) {\n          element.innerText = `${text.substring(0, element.dataset.limit - tail.length).trim()}${tail}`;\n        }\n      } else {\n        throw Error('Cannot find attribute \\'data-limit\\'');\n      }\n    }\n  }\n}\n\n\n\n\n\n// selected.addEventListener('click', () => loadOptions(event));\n\nfunction loadOptions(e) {\n  for (let i = 18; i < 101; i++) {\n    let item = document.createElement('option');\n\n    item.innerHTML = `${i}`;\n    e.appendChild(item);\n  }\n  shortString('.short');\n}\n// window.onload = function() {\n//   loadOptions(selected)\n//   // selected.addEventListener('click', () => loadOptions(event));\n// };\n\nsetListeners();\n\nlet PageLoaded = false;\nconsole.log(PageLoaded)\n\nwindow.onload = function() {\n  slider__items.forEach(item=>{\n    console.log(\"BEFORE\"+item.className)\n    item.classList.remove('_is-hidden');\n    console.log(\"AFTER\"+item.className)\n\n  })\n\n\n  PageLoaded = true;\n  console.log(PageLoaded)\n}"],"names":["$b8f9b7833fa37166$var$ProgressWidth","$b8f9b7833fa37166$var$num","$b8f9b7833fa37166$var$selected","document","querySelector","$b8f9b7833fa37166$var$slider__items","querySelectorAll","$b8f9b7833fa37166$var$buttons","$b8f9b7833fa37166$var$progressElement","$b8f9b7833fa37166$var$maxItems","length","$b8f9b7833fa37166$var$nextBtn","getElementById","$b8f9b7833fa37166$var$ProgressStep","$b8f9b7833fa37166$var$addActive","direction","elem","backElem","frontElem","randomDelay","bar","loadingTextElement","loadingText","addToLoadText","interval","min","max","style","transform","concat","classList","remove","Math","random","setInterval","floor","clearInterval","width","innerHTML","setTimeout","$b8f9b7833fa37166$var$showSpinner","$b8f9b7833fa37166$var$showReview","add","addEventListener","console","log","$b8f9b7833fa37166$var$loadOptions","display","e","i","item","createElement","appendChild","selector","elements","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","element","value","text","innerText","hasAttribute","Error","dataset","limit","substring","trim","err","return","$b8f9b7833fa37166$var$shortString","forEach","id","event","$b8f9b7833fa37166$var$PageLoaded","window","onload","className"],"version":3,"file":"index.bab4fdac.js.map"}