{"mappings":"AAAA,IAAIA,EAAgB,EAClBC,EAAM,EACR,MACEC,EADaC,SAASC,cAAc,WACbC,iBAAiB,iBACxCC,EAAUH,SAASE,iBAAiB,gBACpCE,EAAkBJ,SAASC,cAAc,2BACzCI,EAAWN,EAAcO,OACzBC,EAAe,IAAOF,EAelBG,GAdIR,SAASC,cAAc,gBACrBD,SAASS,eAAe,YAajBC,IACjB,IAAIC,EACAb,EAAM,IAAMO,IAGhBP,IAfmB,MACnB,IAAIc,EAAUC,EACdD,EAAWb,EAAcD,EAAM,GAC/Be,EAAYd,EAAcD,GAC1Bc,EAASE,MAAMC,UAAY,8BAA6B,EAAKjB,EAAM,WACnEe,EAAUC,MAAMC,UAAY,8BAA6B,EAAKjB,EAAM,UAAU,EAW9EkB,GACAL,EAAOZ,EAAcD,EAAM,GAC3Ba,EAAKM,UAAUC,OAAO,UAEtBP,EAAOZ,EAAcD,GACjBA,EAAM,IAAMO,KAkDlB,WACE,MAAMc,GAdWC,EAca,EAdRC,EAcW,EAb1BC,KAAKC,UAAYF,EAAMD,GAAOA,GAc/BI,EAAMxB,SAASC,cAAc,iBAC7BwB,EAAqBzB,SAASC,cAAc,6BAhBlC,IAACmB,EAAKC,EAiBtB,IAAIK,EAAc,EAClB,MAAMC,EAAgB,KAAqB,EAAdR,GAEvBS,EAAWC,aAAY,WAC3BH,EAAcJ,KAAKQ,MAAMJ,EAAcC,GACnCD,EAAc,MAChBK,cAAcH,GACdF,EAAc,KAEhBF,EAAIV,MAAMkB,MAAQ,GAAGN,KACrBD,EAAmBQ,UAAY,GAAGP,IAEd,MAAhBA,GACFQ,WAAWC,EAAa,KAEN,MAAhBT,GACFQ,WAAWE,EAAY,I,GAExB,I,CAvEDC,GACAxC,EAAgB,KAElBc,EAAKM,UAAUqB,IAAI,UAAS,GAoCxBH,EAAc,KAClBnC,SAASC,cAAc,aAAaa,MAAMyB,QAAU,OACpDvC,SAASC,cAAc,qBAAqBa,MAAMyB,QAAU,MAAM,EAE9DH,EAAa,KACjBpC,SAASC,cAAc,qBAAqBa,MAAMyB,QAAU,OAC5DvC,SAASC,cAAc,WAAWa,MAAMyB,QAAU,MAAM,EA4D3CvC,SAASC,cAAc,iBAC7BuC,iBAAiB,SAAS,IAEnC,SAAqBC,GACnB,IAAK,IAAIC,EAAI,GAAIA,EAAI,IAAKA,IAAK,CAC7B,IAAIC,EAAO3C,SAAS4C,cAAc,UAElCD,EAAKV,UAAY,GAAGS,IACpBD,EAAEI,OAAOC,YAAYH,E,EA5BzB,SAAqBI,GACnB,MAAMC,EAAWhD,SAASE,iBAAiB6C,GAE3C,GAAIC,GAAYA,EAAS1C,OACvB,IAAK,MAAM2C,KAAWD,EAAU,CAC9B,IAAIE,EAAOD,EAAQE,UACnB,IAAIF,EAAQG,aAAa,cAKvB,MAAMC,MAAM,sCAJRH,EAAK5C,OAAS2C,EAAQK,QAAQC,QAChCN,EAAQE,UAAY,GAAGD,EAAKM,UAAU,EAAGP,EAAQK,QAAQC,MANpD,MAMiEjD,QAAQmD,Y,EAsBtFC,CAAY,S,CAT2BC,CAAYC,SAnGnDzD,EAAQ0D,SAAQ,SAASlB,GACvBA,EAAKH,iBAAiB,SAAS,KAqB7B3C,GAAiBU,EACjBC,IACAJ,EAAgBU,MAAMkB,MAAQ,GAAGnC,IAAgB,G","sources":["src/index.js"],"sourcesContent":["let ProgressWidth = 0,\n  num = 0;\nconst slider = document.querySelector('.slider'),\n  slider__items = slider.querySelectorAll('.slider__item'),\n  buttons = document.querySelectorAll('.btn__slider'),\n  progressElement = document.querySelector('.page__progress__filled'),\n  maxItems = slider__items.length,\n  ProgressStep = 100 / (maxItems),\n  error = document.querySelector('[data-error]'),\n  userAge = document.getElementById('user-age');\n\n\nconst transformNum = () => {\n  let backElem, frontElem;\n  backElem = slider__items[num - 1];\n  frontElem = slider__items[num];\n  backElem.style.transform = `translateZ(0px) translate(${-1 * num * 100}%, 0)`;\n  frontElem.style.transform = `translateZ(0px) translate(${-1 * num * 100}%, 0)`;\n\n};\n\n\nconst addActive = (direction) => {\n  let elem;\n  if (num + 1 === maxItems) {\n    return;\n  }\n  num++;\n  transformNum();\n  elem = slider__items[num - 1];\n  elem.classList.remove('active');\n\n  elem = slider__items[num];\n  if (num + 1 === maxItems) {\n    showLoading();\n    ProgressWidth = 100;\n  }\n  elem.classList.add('active');\n};\n\nconst setListeners = () => {\n  buttons.forEach(function(item) {\n    item.addEventListener('click', () => {\n\n      // if (item.id === 'userAgeBtn') {\n      //   if (userAge.value < 18) {\n      //     error.classList.remove('_is-hidden');\n      //     setTimeout(() => {\n      //       error.classList.add('_is-hidden');\n      //       window.location.href = `${getUrlVars()}`;\n      //     }, 3000);\n      //   } else {\n      //     ProgressWidth += ProgressStep;\n      //     addActive('plus');\n      //     progressElement.style.width = `${ProgressWidth}%`;\n      //\n      //   }\n      // } else {\n      //\n      //   ProgressWidth += ProgressStep;\n      //   addActive('plus');\n      //   progressElement.style.width = `${ProgressWidth}%`;\n      // }\n      ProgressWidth += ProgressStep;\n      addActive('plus');\n      progressElement.style.width = `${ProgressWidth}%`;\n    });\n  });\n};\n\nconst getRandom = (min, max) => {\n  return Math.random() * (max - min) + min;\n};\nconst showSpinner = () => {\n  document.querySelector('.analyzer').style.display = 'none';\n  document.querySelector('.loading__spinner').style.display = 'flex';\n};\nconst showReview = () => {\n  document.querySelector('.loading__spinner').style.display = 'none';\n  document.querySelector('.review').style.display = 'flex';\n\n};\n\nfunction showLoading() {\n  const randomDelay = getRandom(2, 6);\n  const bar = document.querySelector('.loading__bar');\n  const loadingTextElement = document.querySelector(' .loading__analyzing span');\n  let loadingText = 0;\n  const addToLoadText = 100 / (randomDelay * 2);\n\n  const interval = setInterval(function() {\n    loadingText = Math.floor(loadingText + addToLoadText);\n    if (loadingText > 100) {\n      clearInterval(interval);\n      loadingText = 100;\n    }\n    bar.style.width = `${loadingText}%`;\n    loadingTextElement.innerHTML = `${loadingText}`;\n\n    if (loadingText === 100) {\n      setTimeout(showSpinner, 1000);\n    }\n    if (loadingText === 100) {\n      setTimeout(showReview, 3000);\n    }\n  }, 500);\n}\n\nfunction getUrlVars() {\n  let vars = {}, hash;\n  const hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\n  for (let i = 0; i < hashes.length; i++) {\n    hash = hashes[i].split('=');\n    if (hash[1]) {\n      vars[hash[0]] = hash[1];\n    }\n  }\n  return hashes;\n}\nfunction shortString(selector) {\n  const elements = document.querySelectorAll(selector);\n  const tail = '...';\n  if (elements && elements.length) {\n    for (const element of elements) {\n      let text = element.innerText;\n      if (element.hasAttribute('data-limit')) {\n        if (text.length > element.dataset.limit) {\n          element.innerText = `${text.substring(0, element.dataset.limit - tail.length).trim()}${tail}`;\n        }\n      } else {\n        throw Error('Cannot find attribute \\'data-limit\\'');\n      }\n    }\n  }\n}\n\n\n\n\nlet selected = document.querySelector('.form-control');\nselected.addEventListener('click', () => loadOptions(event));\n\nfunction loadOptions(e) {\n  for (let i = 18; i < 101; i++) {\n    let item = document.createElement('option');\n\n    item.innerHTML = `${i}`;\n    e.target.appendChild(item);\n  }\n  shortString('.short');\n}\n\nsetListeners();\n"],"names":["$1f0dc3b9307be026$var$ProgressWidth","$1f0dc3b9307be026$var$num","$1f0dc3b9307be026$var$slider__items","document","querySelector","querySelectorAll","$1f0dc3b9307be026$var$buttons","$1f0dc3b9307be026$var$progressElement","$1f0dc3b9307be026$var$maxItems","length","$1f0dc3b9307be026$var$ProgressStep","$1f0dc3b9307be026$var$addActive","getElementById","direction","elem","backElem","frontElem","style","transform","$1f0dc3b9307be026$var$transformNum","classList","remove","randomDelay","min","max","Math","random","bar","loadingTextElement","loadingText","addToLoadText","interval","setInterval","floor","clearInterval","width","innerHTML","setTimeout","$1f0dc3b9307be026$var$showSpinner","$1f0dc3b9307be026$var$showReview","$1f0dc3b9307be026$var$showLoading","add","display","addEventListener","e","i","item","createElement","target","appendChild","selector","elements","element","text","innerText","hasAttribute","Error","dataset","limit","substring","trim","$1f0dc3b9307be026$var$shortString","$1f0dc3b9307be026$var$loadOptions","event","forEach"],"version":3,"file":"index.119658a0.js.map"}